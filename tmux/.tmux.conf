# Some things to keep in mind
# when making zshrc
#
# tmux new -s session_name
# tmux attach -t session_name
# tmux switch -t session_name
# tmux list-sessions
#
# c is new window
# , is rename window
#
# Nice Tmux Commands
# tmux list-keys
# tmux list-commands
# tmux info
# TODO: write shell script for i3 like window movement

# -- Settings -- {{{
# Use vim keybindings in copy mode
set -g mode-keys vi

# Enable mouse mode (tmux 2.1 and above)
set -g mouse on

# Allows for faster key repetition
set -s escape-time 0

# Start numbering panes at 1
set -g base-index 1

# Greater scrollback limit
set -g history-limit 10000

# Better window resizing with multiple clients
set -g aggressive-resize on

# Changes TMUX title to the host machines name
set -g set-titles on
set -g set-titles-string "#T"

# Visual notification of activity in other windows
#setw -g monitor-activity on
#set -g visual-activity on

# Make tmnux display things in 256 color mode
set -g default-terminal "screen-256color"

# Highlight active window
set-window-option -g window-status-current-bg yellow

# Attach to existing session if it exists or create a new one
new-session -n $HOST
# }}}

# -- Key Bindings -- {{{
# Set C-space as the prefix key
unbind C-b
set-option -g prefix C-space
bind-key C-space send-prefix

# No-prefix C-j detaches from the session
unbind C-d
bind-key -n C-j detach

# Splits are now '-' and '|' instead of '"' and '%'
unbind '"'
unbind %
bind | split-window -h
bind - split-window -v

# Make pane sizes even
bind + select-layout even-horizontal

# R reloads the config file
bind r source-file ~/.tmux.conf

# No-Prefix Alt+Vi-Keys switches panes
bind -n M-h select-pane -L
bind -n M-l select-pane -R
bind -n M-k select-pane -U
bind -n M-j select-pane -D

# Capital Vi-Keys resize panes
bind H resize-pane -L 10
bind J resize-pane -D 10
bind K resize-pane -U 10
bind L resize-pane -R 10

# Next and previous panes
bind -n M-n prev
bind -n M-p next

# TODO: Think about keeping these
# Meta Arrow keys manage windows
bind -n M-up new-window
bind -n M-left prev
bind -n M-right next
bind -n M-down kill-window

bind -n S-M-left swap-window -t -1
bind -n S-M-right swap-window -t +1

# TODO: See if these can be turned into functions
# Switch to window. Create them if they don't exist.
bind 0 if-shell 'tmux select-window -t :0' '' 'new-window -t :0'
bind 1 if-shell 'tmux select-window -t :1' '' 'new-window -t :1'
bind 2 if-shell 'tmux select-window -t :2' '' 'new-window -t :2'
bind 3 if-shell 'tmux select-window -t :3' '' 'new-window -t :3'
bind 4 if-shell 'tmux select-window -t :4' '' 'new-window -t :4'
bind 5 if-shell 'tmux select-window -t :5' '' 'new-window -t :5'
bind 6 if-shell 'tmux select-window -t :6' '' 'new-window -t :6'
bind 7 if-shell 'tmux select-window -t :7' '' 'new-window -t :7'
bind 8 if-shell 'tmux select-window -t :8' '' 'new-window -t :8'
bind 9 if-shell 'tmux select-window -t :9' '' 'new-window -t :9'

# Send current pane to another window
bind M-0 if-shell 'tmux join-pane -h -t :0' 'previous-window'
bind M-1 if-shell 'tmux join-pane -h -t :1' 'previous-window'
bind M-2 if-shell 'tmux join-pane -h -t :2' 'previous-window'
bind M-3 if-shell 'tmux join-pane -h -t :3' 'previous-window'
bind M-4 if-shell 'tmux join-pane -h -t :4' 'previous-window'
bind M-5 if-shell 'tmux join-pane -h -t :5' 'previous-window'
bind M-6 if-shell 'tmux join-pane -h -t :6' 'previous-window'
bind M-7 if-shell 'tmux join-pane -h -t :7' 'previous-window'
bind M-8 if-shell 'tmux join-pane -h -t :8' 'previous-window'
bind M-9 if-shell 'tmux join-pane -h -t :9' 'previous-window'
# }}}
